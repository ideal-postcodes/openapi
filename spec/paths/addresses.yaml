get:
  tags:
    - Addresses
  summary: Address Search
  description: |
    Returns a list of addresses that match the query ordered by relevance score.

    This query accepts an optional limit and page query (defaults to 10 and 0 respectively).  

    If a valid postcode is passed as the query string, the entire address list for that postcode is returned as the result. Note, in these cases, limit parameter is ignored and fixed at 100.

    If your key is configured to return Multiple Residence data, you may need to query more pages to return the entire list as more than 100 delivery points or residences may be returned.

    ### Testing

    - **ID1 1QD** Returns a successful query response `2000`
    - **ID1 KFA** Returns an empty query response `2000`
    - **ID1 CLIP** Returns "no lookups remaining" error `4020`
    - **ID1 CHOP** Returns "daily (or individual) lookup limit breached" error
    `4021`

    Test requests will undergo usual authentication and restriction rules (individual and daily lookup limits) to surface any problems you may have during implementation. However, it will not count towards a postcode lookup on your key.

    ### Notes

    This is not an Address Autocomplete method. Each request that returns an address incurs a lookup charge.

    If a valid postcode is passed as the query string, the entire address list for that postcode is passed as a result. Note, in these cases, limit and page parameters are ignored.

    ### Pricing

    Per lookup charges apply. Queries which find no match are not charged.

  operationId: AddressSearch
  parameters:
    - $ref: '#/components/schemas/QueryParameter'
    - $ref: '#/components/schemas/LimitParameter'
    - $ref: '#/components/schemas/PageParameter'
    - $ref: '#/components/schemas/FilterParameter'
    - $ref: '#/components/schemas/PostcodeOutwardParameter'
    - $ref: '#/components/schemas/LicenseeParameter'
  responses:
    '200':
      description: Success
      headers: {}
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AddressSearchResponseSchema'
    '400':
      description: Bad request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponseSchema'
    '402':
      description: Request failed
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponseSchema'
    '404':
      description: Resource not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponseSchema'
    '500':
      description: Server error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponseSchema'
    '503':
      description: Rate limit exceeded
  deprecated: false
  security:
    - api_key: []
